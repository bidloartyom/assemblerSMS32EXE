JMP START
DB 05
DB 10
DB 30

ORG 05
IRET

START:
STI
OUT 07
OUT 08
MOV DL,C0

STARTPETLA:
JMP STARTPETLA

ORG 10
CLI
IN 07
CMP AL,0D
JZ ENTER
CMP AL,08
JZ BS
MOV [DL],AL
INC DL
STI
IRET

ORG 30
CLI
IN 08
CMP AL,0D
JZ ENTER
CMP AL,08
JZ BS
MOV [DL],AL
INC DL
RESET:
STI
IRET


ENTER:
CMP DL,D0
JNS POMIN
MOV DL,D0
JMP RESET

POMIN:
CMP DL,E0
JNS POMIN2
MOV DL,E0
JMP RESET

POMIN2:
CMP DL,F0
JNS POMIN3
MOV DL,F0
JMP RESET

POMIN3:
MOV DL,C0
JMP RESET

BS:
CMP DL,F0
JZ USUN
CMP DL,E0
JZ USUN
CMP DL,D0
JZ USUN
MOV AL,20
DEC DL
MOV [DL],AL
STI
IRET

USUN:
DEC DL
MOV BL,[DL]
CMP BL,20
JZ USUN
INC DL
CMP BL,20
JNZ RESET

END